<!doctype html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>CPS | Tool - Markdown 在线编辑&预览</title>
		<link rel="stylesheet" type="text/css" href="../../css/public.css" />
		<link rel="stylesheet" type="text/css"
			href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/5.2.0/github-markdown.min.css" />
		<script src='https://cdnjs.cloudflare.com/ajax/libs/markdown-it/13.0.1/markdown-it.min.js'></script>
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/default.min.css">
		<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
		<style>
			html,
			body {
				padding: 0;
				margin: 0;
			}
		</style>
	</head>
	<body>
		<div style="float: left; width:48vw; height:100%; background: #eee;padding: 1vw;">
			<textarea id="in" style="width: 45vw;height: 90vh;"></textarea>
			<br />
			自动更新间隔:<input id="bt" type="number" value="500" />ms
		</div>
		<div style="border-left:50vw solid #eee;  height:100%;   background: #eee;">
			<div id="content" class="markdown-body" style="padding: 1vw;"></div>
		</div>

		<script>
			var t;

			function upd() {
				t = document.getElementById('bt').value;
				document.getElementById('content').innerHTML =
					window.markdownit().render(document.getElementById('in').value);
				hljs.highlightAll();
				setTimeout(upd, t);
			}
			upd();
		</script>
	</body>
</html>
